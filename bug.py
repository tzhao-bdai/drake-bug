"""Minimal reproduction of hpolyhedron -> vpolytope bug."""

from pydrake.all import VPolytope, HPolyhedron
import numpy as np

A = np.array(
    [
        [-0.5220620467416787, 0.8504567491885974, 0.06461065787818997],
        [-0.57654119261346, 0.8036253209130994, -0.14760283468540603],
        [0.39776137548407037, 0.8406039480810149, 0.3676559405798184],
        [0.9352074296997392, -0.21686067313898522, 0.27992590426774316],
        [0.9525030272431677, -0.2317746049491974, 0.19753104969407975],
        [0.8295027418699725, 0.5244359865429556, -0.19207315598207536],
        [0.9993941474163073, -0.0071397126413326115, -0.034064095664376154],
        [0.9864564368166714, -0.09653239709032566, 0.13260917982912035],
        [0.9718331938407174, -0.17189561778031298, 0.161220780103792],
        [-0.9377922393935797, -0.2647060775343335, -0.22466955345476242],
    ]
)

b = np.array(
    [
        0.041616597650315605,
        -0.08113072692030318,
        0.6581334453725001,
        0.6139492649213445,
        0.5597886349061874,
        0.5848766990762098,
        0.5421488772453936,
        0.5615794340149876,
        0.5572710734629494,
        -0.6613644728287069,
    ]
)

hpolyhedron = HPolyhedron(A, b)

for _ in range(10000):
    VPolytope(hpolyhedron)


